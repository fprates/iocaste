<project name="transport" default="compile">
	<target name="compile">
        <mkdir dir="${builddir}/${ant.project.name}/robot"/>
        
        <!-- dependências -->
        <path id="dependencies">
            <fileset dir="${builddir}/shell/lib"/>
            <fileset dir="${builddir}/documents/lib"/>
            <fileset dir="${builddir}/packagetool/lib"/>
            <fileset dir="${builddir}/appbuilder/lib"/>
            <fileset dir="${builddir}/external/lib"/>
            <fileset dir="${basedir}/lib"/>
            <fileset dir="${basedir}/ext"/>
        </path>
        
        <!-- compilação classes -->
        <javac srcdir="${basedir}/src/${ant.project.name}/robot/"
            destdir="${builddir}/${ant.project.name}/robot"
            debug="${debug.status}">
            
            <classpath refid="dependencies"/>
        </javac>
		
		<jar basedir="${builddir}/${ant.project.name}/robot"
            destfile="${builddir}/${ant.project.name}/transport-robot.jar">
            <manifest>
                <attribute name="Class-Path"
                    value="${basedir}/ext/iocaste.jar"/>
                <attribute name="Main-class"
                    value="org.iocaste.transport.robot.Main"/>
            </manifest>
        </jar>
	</target>
</project>