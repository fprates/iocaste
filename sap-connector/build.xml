<project name="iocaste-sap-connector" default="compile">
    <property name="builddir" value="${basedir}/build"/>
    <property name="debug.status" value="true"/>
    <property name="vendor" value="quantic"/>
    <property name="server.class" value="org.${vendor}.${ant.project.name}.Servlet"/>
	
    <target name="compile">
    	
        <!-- dependências -->
        <path id="dependencies">
            <fileset dir="${basedir}/ext"/>
        </path>
    	
        <!-- compilação classes -->
    	<mkdir dir="${builddir}"/>
    	
        <javac srcdir="${basedir}/src/sap-connector/classes"
        	destdir="${builddir}" debug="${debug.status}">
            <classpath refid="dependencies"/>
        </javac>
        
        <copy todir="${builddir}">
            <fileset dir="${basedir}/src/sap-connector/classes"
            	excludes="**/*.java"/>
        </copy>
    		
        <!-- pacote .jar -->
		<jar basedir="${builddir}"
			destfile="${basedir}/${ant.project.name}.jar">
			<manifest>
				<attribute name="Class-Path"
					value="./ext/iocaste.jar ./ext/sapjco3.jar"/>
				<attribute name="Main-class"
					value="org.quantic.iocasteconnector.Main"/>
			</manifest>
		</jar>

        <delete dir="${builddir}"/>
        
        <copy todir="${basedir}">
            <fileset dir="${basedir}/sap-connector" includes="**/*.sh"/>
        </copy>
    </target>
</project>